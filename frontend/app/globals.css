@import "tailwindcss";
@import "tw-animate-css";

@variant dark (&:where(.dark, .dark *));

:root {
	--background: hsl(0 0% 100%);
	--foreground: hsl(222.2 84% 4.9%);
	--card: hsl(0 0% 100%);
	--card-foreground: hsl(222.2 84% 4.9%);
	--popover: hsl(0 0% 100%);
	--popover-foreground: hsl(222.2 84% 4.9%);
	--primary: hsl(220 14% 32%);
	--primary-foreground: hsl(210 40% 98%);
	--secondary: hsl(210 40% 96.1%);
	--secondary-foreground: hsl(222.2 47.4% 11.2%);
	--muted: hsl(210 40% 96.1%);
	--muted-foreground: hsl(215.4 16.3% 46.9%);
	--accent: hsl(210 40% 96.1%);
	--accent-foreground: hsl(222.2 47.4% 11.2%);
	--destructive: hsl(0 84.2% 60.2%);
	--destructive-foreground: hsl(210 40% 98%);
	--border: hsl(214.3 31.8% 91.4%);
	--input: hsl(214.3 31.8% 91.4%);
	--ring: hsl(221.2 83.2% 53.3%);
	--radius: 0.5rem;
}

.dark {
	--background: hsl(222.2 84% 4.9%);
	--foreground: hsl(210 40% 98%);
	--card: hsl(222.2 84% 4.9%);
	--card-foreground: hsl(210 40% 98%);
	--primary: hsl(217.2 91.2% 59.8%);
	--primary-foreground: hsl(222.2 47.4% 11.2%);
	--secondary: hsl(217.2 32.6% 17.5%);
	--secondary-foreground: hsl(210 40% 98%);
	--muted: hsl(217.2 32.6% 17.5%);
	--muted-foreground: hsl(215 20.2% 65.1%);
	--accent: hsl(217.2 32.6% 17.5%);
	--accent-foreground: hsl(210 40% 98%);
	--destructive: hsl(0 62.8% 30.6%);
	--destructive-foreground: hsl(210 40% 98%);
	--border: hsl(217.2 32.6% 17.5%);
	--input: hsl(217.2 32.6% 17.5%);
	--ring: hsl(224.3 76.3% 48%);
}

@theme inline {
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-card: var(--card);
	--color-card-foreground: var(--card-foreground);
	--color-popover: var(--popover);
	--color-popover-foreground: var(--popover-foreground);
	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-secondary: var(--secondary);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-accent: var(--accent);
	--color-accent-foreground: var(--accent-foreground);
	--color-destructive: var(--destructive);
	--color-destructive-foreground: var(--destructive-foreground);
	--color-border: var(--border);
	--color-input: var(--input);
	--color-ring: var(--ring);
	--radius: 0.5rem;
}

@layer base {
	* {
		border-color: var(--color-border);
	}

	body {
		@apply bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100;
		@apply antialiased;
		min-height: 100dvh;
		font-family:
			/* "GenKiGothicTW", */
			system-ui,
			-apple-system,
			BlinkMacSystemFont,
			"Segoe UI",
			Roboto,
			"Helvetica Neue",
			Arial,
			"Noto Sans",
			sans-serif,
			"Apple Color Emoji",
			"Segoe UI Emoji",
			"Segoe UI Symbol",
			"Noto Color Emoji";
	}

	a[href],
	button:not(:disabled) {
		@apply cursor-pointer;
	}

	button:disabled,
	a[aria-disabled="true"] {
		@apply cursor-not-allowed opacity-50;
	}
}

@layer components {
	/* Ticket card */
	.ticket {
		@apply bg-white dark:bg-gray-800 border-2 border-gray-800 dark:border-gray-200 rounded-lg p-6 cursor-pointer;
		@apply hover:border-blue-500 dark:hover:border-blue-400 hover:shadow-lg dark:hover:shadow-blue-500/20;
	}

	/* Universal Markdown/Text Content Typography */
	.markdown-content {
		@apply text-gray-800 dark:text-gray-200;
		@apply leading-relaxed;
	}

	/* Headings */
	.markdown-content h1 {
		@apply text-3xl md:text-4xl font-bold mb-6 mt-8 first:mt-0;
		@apply text-gray-900 dark:text-gray-100;
		@apply border-b border-gray-200 dark:border-gray-700 pb-3;
	}

	.markdown-content h2 {
		@apply text-2xl md:text-3xl font-bold mb-4 mt-8;
		@apply text-gray-900 dark:text-gray-100;
		@apply border-b border-gray-200 dark:border-gray-700 pb-2;
	}

	.markdown-content h3 {
		@apply text-xl md:text-2xl font-semibold mb-3 mt-6;
		@apply text-gray-900 dark:text-gray-100;
	}

	.markdown-content h4 {
		@apply text-lg md:text-xl font-semibold mb-2 mt-5;
		@apply text-gray-800 dark:text-gray-200;
	}

	.markdown-content h5 {
		@apply text-base md:text-lg font-semibold mb-2 mt-4;
		@apply text-gray-800 dark:text-gray-200;
	}

	.markdown-content h6 {
		@apply text-base font-semibold mb-2 mt-4;
		@apply text-gray-700 dark:text-gray-300;
	}

	/* Paragraphs */
	.markdown-content p {
		@apply mb-4 text-base leading-7;
		@apply text-gray-700 dark:text-gray-300;
	}

	/* Links */
	.markdown-content a {
		@apply text-blue-600 dark:text-blue-400;
		@apply hover:text-blue-700 dark:hover:text-blue-300;
		@apply underline decoration-blue-600/30 dark:decoration-blue-400/30;
		@apply hover:decoration-blue-600 dark:hover:decoration-blue-400;
		@apply transition-colors;
	}

	/* Lists */
	.markdown-content ul,
	.markdown-content ol {
		@apply mb-4 ml-6 space-y-2;
	}

	.markdown-content ul {
		@apply list-disc;
	}

	.markdown-content ol {
		@apply list-decimal;
	}

	.markdown-content li {
		@apply text-gray-700 dark:text-gray-300 leading-7;
	}

	.markdown-content li > p {
		@apply mb-2;
	}

	.markdown-content li > ul,
	.markdown-content li > ol {
		@apply mt-2 mb-2;
	}

	/* Blockquotes */
	.markdown-content blockquote {
		@apply border-l-4 border-gray-300 dark:border-gray-600;
		@apply pl-4 py-2 my-4;
		@apply italic text-gray-600 dark:text-gray-400;
		@apply bg-gray-50 dark:bg-gray-800/50;
	}

	.markdown-content blockquote p {
		@apply mb-2 last:mb-0;
	}

	/* Code */
	.markdown-content code {
		@apply bg-gray-100 dark:bg-gray-800;
		@apply text-pink-600 dark:text-pink-400;
		@apply px-1.5 py-0.5 rounded text-sm;
		@apply font-mono;
	}

	.markdown-content pre {
		@apply bg-gray-100 dark:bg-gray-800;
		@apply p-4 rounded-lg overflow-x-auto my-4;
		@apply border border-gray-200 dark:border-gray-700;
	}

	.markdown-content pre code {
		@apply bg-transparent text-gray-800 dark:text-gray-200;
		@apply p-0 text-sm;
	}

	/* Horizontal Rule */
	.markdown-content hr {
		@apply my-8 border-t-2 border-gray-200 dark:border-gray-700;
	}

	/* Tables */
	.markdown-content table {
		@apply w-full my-4 border-collapse;
	}

	.markdown-content th {
		@apply bg-gray-100 dark:bg-gray-800;
		@apply font-semibold text-left p-3;
		@apply border border-gray-300 dark:border-gray-600;
		@apply text-gray-900 dark:text-gray-100;
	}

	.markdown-content td {
		@apply p-3 border border-gray-300 dark:border-gray-600;
		@apply text-gray-700 dark:text-gray-300;
	}

	.markdown-content tr:nth-child(even) {
		@apply bg-gray-50 dark:bg-gray-800/30;
	}

	/* Images */
	.markdown-content img {
		@apply max-w-full h-auto rounded-lg my-4;
		@apply border border-gray-200 dark:border-gray-700;
	}

	/* Strong and Emphasis */
	.markdown-content strong {
		@apply font-bold text-gray-900 dark:text-gray-100;
	}

	.markdown-content em {
		@apply italic;
	}

	/* Delete/Strikethrough */
	.markdown-content del {
		@apply line-through opacity-70;
	}

	/* Status badges */
	.status-badge {
		@apply px-2 py-1 rounded text-xs font-medium;
	}

	.status-badge.active {
		@apply bg-green-500/20 text-green-700 dark:bg-green-500/10 dark:text-green-400;
	}

	.status-badge.pending {
		@apply bg-yellow-500/20 text-yellow-700 dark:bg-yellow-500/10 dark:text-yellow-400;
	}

	.status-badge.ended {
		@apply bg-red-500/20 text-red-700 dark:bg-red-500/10 dark:text-red-400;
	}

	/* Animation ticket */
	#ticketAnimation {
		@apply fixed pointer-events-none;
		z-index: 9999;
		display: none;
		transition: all 0.3s linear;
	}

	.ticketConfirm {
		@apply mb-6;
		opacity: 0;
		visibility: hidden;
	}

	.confirming .ticketConfirm {
		opacity: 1;
		visibility: visible;
	}
}

@keyframes fly-1 {
	from {
		transform: translateY(0.1em);
	}
	to {
		transform: translateY(-0.1em);
	}
}
