#####################
# Please copy this into both frontend and backend.
# 請複製貼上 .env 到前端跟後端資料夾中
#####################

# *REQUIRED* Better Auth Configuration
#  description: Secret key for signing authentication tokens.
#               Generate a random string for this.
# *必填* Better Auth 設定
#  描述: 用於簽署身份驗證令牌的密鑰。
#        請生成一個隨機字串。
BETTER_AUTH_SECRET=your-super-secret-key-change-this-in-production

# *REQUIRED* URIs
#  description: The URIs for the backend and frontend services.
#               you should use private network for backend.
#               frontend should be the public URL. 
# *必填* 服務網址
#  描述: 後端與前端服務的網址。
#        後端應該使用私有網路。
#        前端應該是公開的網址。
BACKEND_URI=http://localhost:3000
FRONTEND_URI=http://localhost:4321

# *OPTIONAL* OpenTelemetry Configuration
#  description: Enable or disable OpenTelemetry tracing.
#               Set OTEL_ENABLED to true to enable tracing.
# *選填* OpenTelemetry 設定
#  描述: 啟用或停用 OpenTelemetry 追蹤。
#        將 OTEL_ENABLED 設為 true 以啟用追蹤
OTEL_ENABLED=false

# *REQUIRED* Database
#  description: Database connection URIs.
#               Set POSTGRES_URI to use PostgreSQL.
#               Set REDIS_URI to use Redis as a database.
#               If redis_uri is unset, an in-memory cache will be used (not recommended for production).
# *必填* 資料庫
#  描述: 資料庫連接網址。
#        設定 POSTGRES_URI 以使用 PostgreSQL。
#        設定 REDIS_URI 以使用 Redis 作為資料庫。
#        如果未設定 REDIS_URI，將使用記憶體內快取（不建議用於生產環境）。
POSTGRES_URI=
REDIS_URI=
REDIS_DISABLED=false
REDIS_DEBUG=false

# *REQUIRED* Email Configuration (for magic link)
#  description: We use Mailtrap as email sending provider.
#               You can get the token from https://mailtrap.io/.
# *必填* 電子郵件設定 (用於魔法連結)
#  描述: 我們使用 Mailtrap 作為電子郵件發送提供商。
#        你可以從 https://mailtrap.io/ 獲取 token。
MAILTRAP_SENDER_EMAIL=no-reply@tickets.sitcon.org
MAILTRAP_TOKEN=

# *REQUIRED if you want to use SMS verify feature* SMS Configuration
#  description: This is for SMS verification code sending.
#               You can get the credentials from https://www.twsms.com/ (an application is required).
# *如果你想使用簡訊驗證功能，請必填* 簡訊設定
#  描述: 這是用於發送簡訊驗證碼。
#        你可以從 https://www.twsms.com/ 獲取憑證(需要申請)。
TWSMS_USERNAME=
TWSMS_PASSWORD=

# *REQUIRED* Cloudflare Turnstile Configuration
#   description: Cloudflare Turnstile keys for CAPTCHA verification.
#                TURNSTILE_SITE_KEY is same as NEXT_PUBLIC_TURNSTILE_SITE_KEY. (one for backend, one for frontend)
#                You can get the keys from your cloudflare dashboard > the account you want to use > Protect & Connect > Application Security > Turnstile
#                If you are running localhost, please add "localhost" to the domain.
# *必填* Cloudflare Turnstile 設定
#   描述: 用於 CAPTCHA 驗證的 Cloudflare Turnstile 金鑰。
#         TURNSTILE_SITE_KEY 與 NEXT_PUBLIC_TURNSTILE_SITE_KEY 相同。（一個用於後端，一個用於前端）
#         你可以從你的 Cloudflare 控制台 > 你想使用的帳戶 > 保護與連接 > 應用程式安全性 > Turnstile 獲取這些金鑰
#         如果你在本地運行，請將 "localhost" 添加到域名中。
TURNSTILE_SECRET_KEY=
TURNSTILE_SITE_KEY=
NEXT_PUBLIC_TURNSTILE_SITE_KEY=
# *OPTIONAL* Turnstile bypass secret - if set, API calls can bypass Turnstile by sending this value as the token
# *選填* Turnstile 繞過密鑰 - 如果設定，API 呼叫可以通過發送此值作為 token 來繞過 Turnstile
TURNSTILE_BYPASS_SECRET=

# *OPTIONAL* Security Configuration
# Admin emails (comma-separated) - these users will automatically get admin role
# NOTE: This is currently not working. Please add admin through database directly. (set role = 'admin' in users table)
# *選填* 安全性設定
#  管理員電子郵件 (逗號分隔) - 這些使用者將自動獲得管理員角色
#  注意: 這目前無法運作。請直接通過資料庫添加管理員。（在 users 表中將 role 設為 'admin'）
ADMIN_EMAILS=admin@example.com,another-admin@example.com

# *OPTIONAL* Rate Limiting
#  description: Rate limits for APIs.
#               RATE_LIMIT_MAX: max requests per window per IP.
#               RATE_LIMIT_WINDOW: time window for rate limiting.
#               AUTH_RATE_LIMIT_MAX: max requests for auth-related endpoints per window per IP.
#               REGISTRATION_RATE_LIMIT_MAX: max requests for registration endpoint per window per IP.
# *選填* 速率限制
#  描述: API 的速率限制。
#        RATE_LIMIT_MAX: 每個 IP 在每個時間窗口內的最大請求數。
#        RATE_LIMIT_WINDOW: 速率限制的時間窗口。
#        AUTH_RATE_LIMIT_MAX: 每個 IP 在每個時間窗口內對與身份驗相關的端點的最大請求數。
#        REGISTRATION_RATE_LIMIT_MAX: 每個 IP 在每個時間窗口內對註冊端點的最大請求數。
RATE_LIMIT_MAX=30000
RATE_LIMIT_WINDOW=15 minutes
AUTH_RATE_LIMIT_MAX=10000
REGISTRATION_RATE_LIMIT_MAX=100
MAX_BODY_SIZE=1048576
MAX_JSON_SIZE=524288